<!DOCTYPE html>
<html lang="en">

	<head>
		<title>Edit Event</title>
		<%- include('../partials/head.ejs') %>
	</head>

	<body>
		<section id="container" class="">
			<%- include('../partials/header.ejs') %>
			<%- include('../partials/sidebar.ejs') %>
			<section id="main-content">
				<section class="wrapper">
					<div class="row">
						<div class="col-lg-12">
							<h3 class="page-header">
								<i class="fa fa-laptop"></i>
								Edit Event</h3>
							<ol class="breadcrumb">
								<li>
									<i class="fa fa-home"></i>
									<a href="/admin">Home</a>
								</li>
								<li>
									<i class="fa fa-laptop"></i>Edit Event</li>
							</ol>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-12">
							<section class="panel">
								<header class="panel-heading">
									Edit Event
								</header>
								<div class="panel-body">
									<% if (errors) { %>
										<% if (errors['date']) { %>
											<div class="alert alert-danger">
												<%= errors['date'] %>
											</div>
										<% } %>
									<% } %>
									<form class="form-horizontal" method="POST" action="/admin/events/edit/<%= input.id %>">
										<div class="form-group">
											<label class="col-sm-2 control-label">Name</label>
											<div class="col-sm-6">
												<input type="text" value="<%= input.name %>" required name="name" class="form-control">
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-2 control-label">Location</label>
											<div class="col-sm-6">
												<input required type="text" value="<%= input.location %>" name="location" id="location" class="form-control">
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-2 control-label">Start Date</label>
											<div class="col-sm-6">
												<input min="<%= min %>" value="<%= parseDate(new Date(input.start_date)) %>" required type="date" name="start_date" class="form-control">
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-2 control-label">End Date</label>
											<div class="col-sm-6">
												<input min="<%= min %>" value="<%= parseDate(new Date(input.end_date)) %>" required type="date" name="end_date" class="form-control">
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-2 control-label">Categories</label>
											<div class="col-sm-6">
												<select name="category_id" class="form-control">
													<% categories.forEach((category) => { %>
														<option <%= selected= category.id === input.category_id ? 'selected':'' %> value="<%= category.id %>"><%= category.name %></option>
													<% }) %>
												</select>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-2 control-label">Status</label>
											<div class="col-sm-6">
												<select name="status" class="form-control">
													<% status.forEach((s) => { %>
														<option <%= selected= s.value === input.status ? 'selected': '' %> value="<%= s.value %>">
															<%= s.name %></option>
													<% }) %>
												</select>
											</div>
										</div>
										<div class="form-group">
											<div class="col-sm-2" style="text-align: right;">
												<input type="submit" class="btn btn-success">
											</div>
										</div>
									</form>
								</div>
							</section>
						</div>
					</div>
				</section>
			</section>
			<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=<GOOGLE_API_KEY>&libraries=places"></script>
			<script src="/static/scripts/event.js" type="text/javascript"></script>
		</body>
	</body>
</html>
